<!DOCTYPE html>
<html>
<head>
  <title>Cappstone</title>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <%= javascript_include_tag 'application', "data-turbolinks-track" => true %>
  <%= csrf_meta_tags %>
  <meta name="google-signin-client_id" content="445102183395-rrj135djfovm97f34otvt54u7uah733l.apps.googleusercontent.com">
  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css">
  <!-- Google Fonts -->
  <link href='https://fonts.googleapis.com/css?family=Poppins:400,300,500,600,700|Roboto:400,300,500,700|Oswald:400,300|Source+Sans+Pro:400,300,600,700' rel='stylesheet' type='text/css'>
  <!-- Google Icons Stylesheet -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <!-- Compiled and minified JavaScript -->
</head>
<body>
  <div class="navbar-fixed">
    <nav class="nav">
      <div class="nav-wrapper">
        <a href="/dashboard" class="brand-logo"> cappstone <i class="material-icons right">work</i></a>
        <ul class="right hide-on-med-and-down">
        <% if @current_user %>
          <li><i class="large material-icons">perm_identity</i></li>
          <li id="logged-in"> <%= @current_user[:email] %></li>
          <!-- <li><a href="" class="waves-effect waves-light btn" onclick="signOut();"> Log out </a></li> -->
          <li><button id="google_logout" class="waves-effect waves-light teal lighten-2 btn hide-on-med-and-down"> Log out </button></li>
        <% else %>
          <li><button id="google_auth" class="waves-effect waves-light teal lighten-2 btn hide-on-med-and-down"> Log in </button></li>
          <!-- <div id="my-signin2" style="width: 240; height: 40;" data-scope="profile email https://www.googleapis.com/auth/calendar" data-onsuccess="onSuccess" data-onfailure="onFailure"></div> -->
        <% end %>
        </ul>
      </div>
    </nav>
  </div>

  <% flash.each do |type, message| %>
    <script>
      $(function() {
        Materialize.toast('<%= message %>', 3500, 'rounded');
      });
    </script>
  <% end %>

  <main>

    <%= yield %>

  </main>

  <footer class="page-footer">
    <div class="footer-copyright">
      <div class="container">
        Â© 2016 cappstone
      </div>
    </div>
  </footer>
  <script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyBn0vvsaVG9PrRZDvH2K3ojxYDNauyCaAQ",
      authDomain: "cappstone.firebaseapp.com",
      databaseURL: "https://cappstone.firebaseio.com",
      storageBucket: "cappstone.appspot.com",
    };
    firebase.initializeApp(config);
  </script>
  <script src="https://cdn.firebase.com/js/client/2.4.2/firebase.js"></script>
  <%= javascript_include_tag 'authorize', 'data-turbolinks-track' => true %>
  <!-- <script src="https://apis.google.com/js/platform.js" async defer></script> -->
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>
</body>
</html>
